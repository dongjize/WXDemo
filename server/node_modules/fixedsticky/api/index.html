<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Index</title>
    
    
    <!--
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    -->
    <script src="scripts/jquery.min.js"></script>
    <script src="scripts/highlight/highlight.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    -->
    <link type="text/css" rel="stylesheet" href="styles/highlight-monokai.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"default":{"outputSourceFiles":true}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="doc-navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="doc-search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="lib">
            <span class="title" type="namespace">
                <a href="lib.html">lib</a>
                
                
                <span class="namespace">namespace</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="lib.sticky">
            <span class="title" type="class">
                <a href="lib.sticky.html">lib.sticky</a>
                
                <span class="class">class</span>
                
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="lib.sticky#destroy"><a href="lib.sticky.html#destroy">destroy</a></li>
            
                <li data-name="lib.sticky#init"><a href="lib.sticky.html#init">init</a></li>
            
                <li data-name="lib.sticky#refresh"><a href="lib.sticky.html#refresh">refresh</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="index.html">Index</h1>
        


    


    <h3> </h3>








    




    <section>
        <article class="readme"><h1>lib.sticky</h1><p>最新版本0.2.2</p>
<p>sticky组件，支持吸顶效果</p>
<p>完整引用举例：</p>
<pre class="prettyprint source"><code>&lt;script src=&quot;http://g.tbcdn.cn/mtb/lib-sticky/0.2.1/sticky.js&quot;>&lt;/script></code></pre><h2>如何使用</h2><h3>基本使用</h3><p>实例方法为：</p>
<pre class="prettyprint source"><code>new lib.sticky(element, options)</code></pre><p>或者把<code>element</code>放到<code>options</code>中做为一个属性：</p>
<pre class="prettyprint source"><code>new lib.sticky(options)</code></pre><h3>参数</h3><ul>
<li><code>element</code>：一个DOM元素，或者是它的CSS选择器</li>
<li><code>top</code>：（非必填）吸顶时元素距离视口顶部的高度，默认值为<code>0</code></li>
<li><code>withinParent</code>：（非必填，仅适用于Android）元素的sticky效果是否限制在父元素中，默认值为<code>false</code></li>
</ul>
<h3><a target="_blank" href="http://gitlab.alibaba-inc.com/mtb/lib-sticky/raw/master/api/index.html">APIs</a></h3><ul>
<li><code>init</code>：初始化实例</li>
<li><code>destroy</code>：销毁实例</li>
<li><code>refresh</code>：重置实例，如果<code>withinParent</code>设置为<code>true</code>，且父元素高度发生变化，请立即调用此方法</li>
</ul>
<h3>示例</h3><ul>
<li><a href="test/basic.html">基本使用</a></li>
<li><a href="test/up.html">顶上去效果</a>。（iOS默认支持，Android需要设置<code>withinParent</code>属性为<code>true</code>）</li>
</ul>
<h2>说明</h2><p>在iOS上，由于scroll事件只有在滚动停止时才触发，所以使用<a target="_blank" href="http://dev.w3.org/csswg/css-position-3/#sticky-pos">原生sticky</a>（<a target="_blank" href="http://caniuse.com/#search=sticky">兼容性</a>）实现完美的吸顶效果。</p>
<p>Android不支持原生sticky，使用监听scroll事件 + fixed和absolute + 一个占位元素模拟。</p>
<p>在使用lib.sticky组件时，为了兼容原生sticky的效果：</p>
<p>DOM结构必须严格遵守：</p>
<pre class="prettyprint source"><code>&lt;div class=&quot;parent&quot;>
    &lt;div class=&quot;sticky&quot;>&lt;/div>
&lt;/div></code></pre><p>对于sticky元素：</p>
<ul>
<li>最好为static元素</li>
<li>若为定位元素<ul>
<li>只能设置z-index</li>
<li>不要设置它的定位上下文</li>
<li>不要设置它的top、bottom、left、right属性</li>
</ul>
</li>
</ul>
<p>对于父级元素：</p>
<ul>
<li><strong>原生sticky元素仅在它父级容器内有效，超出容器范围则不再生效了。</strong><ul>
<li>父级高度必须大于sticky元素的高度。</li>
<li>sticky元素的底部，不能和父级底部重叠。</li>
</ul>
</li>
<li><strong>父级元素的overflow不能设置成auto、scroll、hidden。</strong></li>
<li>sticky元素只能设置top值，设置bottom值无效。</li>
</ul>
<p>更多参考资料：</p>
<ul>
<li><a target="_blank" href="http://www.ghugo.com/position-sticky-how-to-use/">position:sticky 使用条件分析</a></li>
<li><a target="_blank" href="http://www.zhouwenbin.com/positionsticky-%E7%B2%98%E6%80%A7%E5%B8%83%E5%B1%80/">position:sticky 粘性布局</a></li>
<li><a target="_blank" href="http://www.zhouwenbin.com/sticky%E6%A8%A1%E6%8B%9F%E9%97%AE%E9%A2%98/">sticky模拟问题</a></li>
</ul>
<p>其他：</p>
<ul>
<li>由于原生sticky元素在效果断点处没有提供事件，且iOS只有在滚动停止时才抛出scroll事件，想要在吸顶时刻添加一些其他行为在iOS上暂时无法实现。</li>
</ul>
<h2>Change Log</h2><h3>0.2.2</h3><ul>
<li>修复z-index和translateZ冲突的bug</li>
</ul>
<h3>0.2.1</h3><ul>
<li>安卓模拟sticky效果底部断点默认不开启</li>
</ul>
<h3>0.1.3</h3><ul>
<li>添加refresh API</li>
</ul></article>
    </section>






        

        <footer>
            Documentation generated by <a target="_blank" href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0</a> on Tue May 26 2015 08:38:15 GMT+0800 (CST)
        </footer>
    </div>
</div>
<script>hljs.configure({tabReplace: '    '});hljs.initHighlightingOnLoad();</script>
<!-- <script src="scripts/linenumber.js"></script> -->
<script src="scripts/main.js"></script>
</body>
</html>